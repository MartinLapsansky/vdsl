room "Openlab Escape"
begin "Task 1"
intro "Your journey through the hallways has left you trapped with too much time in OpenLab. Play OpenLab Escape, solve tasks and find the key to set yourself free from this ordeal."

riddle "Task 1" "If you roll a standard six-sided die, what is the probability of rolling an even number?"
    solution "1/3"
    hint "1/6" "1/2" "1/3" "2/3"
    unlocks "Task 2"
    clue "yellow"
    duration 60

puzzle "Task 2" 
    puzzleintro "Observe carefully and try to remember as much as you can..."
    solution "yes"
    lights "row" 1 "red"
    lights "row" 2 "orange"
    lights "row" 3 "green"
        //alternativne, aby to bolo viac "hadankove" "Was the 'orange' between the 'pear' and the 'strawberry'? [yes/no]"
    question "Was the 'orange' between the 'green' and the 'red'? [yes/no]"
    unlocks "Task 3"
        //clue robi vlastne lights "all" clue
    clue "orange"
    duration 60

main riddle "Final task" "What are the colors that have been displayed after solving previous tasks in the game? Write them down in the correct order, lowercase, separated by whitespace."
    solution "yellow orange blue white purple"
    //chceme tu hint?
    //hint "?"
    unlocks "Success"
    duration 60

visualisation "Success" "Congratulations, you won! You have successfully unlocked your way out of the room!"Ë‡
    color: "green"
    duration 120
    lights "all" NULL color 

visualisation "Failure" "Time's up and you remain locked! That means game over. Better luck next time!"
    color: "red"
    duration 120
    lights "all" NULL color 

////////////////////////////////////////////////////////////////
//dalsie veci, kt nie su v dg, ale asi ich treba mat(?):

//nejaky condition pre vyprsanie casu a prehru??
if duration is 0 then "Failure"

//potom v gramatike:
termination condition = 'if' 'duration' 'is' integer 'then' visualisation;
integer = digit+
digit = 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9

//navrh ako urobit svetla:
lights mode rownumber color
//potom validne sposoby pouzitia:
lights "row" 1 "green"
lights "row" 2 color
lights "all" NULL "green"
lights "all" NULL clue
lights "all" NULL color
